{
  "scopeName": "source.cscd",
  "name": "CSCD",
  "patterns": [
    { "include": "#headerFooter" },
    { "include": "#comments" },
    { "include": "#metadata" },
    { "include": "#collections" },
    { "include": "#primitives" },
    { "include": "#symbols" }
  ],
  "repository": {

    "headerFooter": {
      "patterns": [
        {
          "name": "keyword.other.header.cscd",
          "match": "~CSCD~"
        },
        {
          "name": "keyword.other.footer.cscd",
          "match": "~/CSCD~"
        }
      ]
    },

    "comments": {
      "patterns": [
        {
          "name": "comment.block.cscd",
          "begin": ";;",
          "end": ";;"
        }
      ]
    },

    "metadata": {
      "patterns": [
        {
          "name": "entity.name.address.cscd",
          "begin": "`",
          "end": "`"
        },
        {
          "name": "storage.type.annotation.cscd",
          "begin": "\\(",
          "end": "\\)"
        },
        {
          "name": "entity.name.scope.cscd",
          "begin": "\\^",
          "end": "\\^"
        },
        {
          "name": "keyword.other.offset.cscd",
          "begin": "\\|",
          "end": "\\|"
        }
      ]
    },

    "collections": {
      "patterns": [
        {
          "name": "meta.list.cscd",
          "begin": "\\[",
          "end": "\\]"
        },
        {
          "name": "meta.dictionary.cscd",
          "begin": "\\{",
          "end": "\\}"
        },
        {
          "name": "meta.object.cscd",
          "begin": "<",
          "end": ">"
        }
      ]
    },

    "primitives": {
      "patterns": [
        { "include": "#strings" },
        { "include": "#chars" },
        { "include": "#numbers" },
        { "include": "#constants" },
        { "include": "#timestamps" },
        { "include": "#durations" },
        { "include": "#colors" },
        { "include": "#uids" },
        { "include": "#bytes" },
        { "include": "#references" }
      ]
    },

    "strings": {
      "patterns": [
        {
          "name": "string.quoted.double.cscd",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.cscd",
              "match": "\\\\(t|n|r|\"|'|\\\\|\\(|\\)|\\*|\\^|&|`|[0-9A-F]+;)"
            }
          ]
        }
      ]
    },

    "chars": {
      "patterns": [
        {
          "name": "string.quoted.single.cscd",
          "begin": "'",
          "end": "'",
          "patterns": [
            {
              "name": "constant.character.escape.cscd",
              "match": "\\\\(t|n|r|'|\\\\|[0-9A-F]+;)"
            }
          ]
        }
      ]
    },

    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.decimal.cscd",
          "match": "-?\\$\\d*(\\.\\d*)?"
        },
        {
          "name": "constant.numeric.float.cscd",
          "match": "-?(\\d+\\.\\d*|\\.\\d+|\\d+\\.?)(e-?\\d+)?"
        },
        {
          "name": "constant.numeric.integer.cscd",
          "match": "-?\\b\\d+\\b"
        }
      ]
    },

    "constants": {
      "patterns": [
        {
          "name": "constant.language.null.cscd",
          "match": "\\bnull\\b"
        },
        {
          "name": "constant.language.boolean.cscd",
          "match": "\\b(true|false)\\b"
        },
        {
          "name": "constant.language.nan.cscd",
          "match": "\\bnan\\b"
        },
        {
          "name": "constant.language.infinity.cscd",
          "match": "-?\\binf\\b"
        }
      ]
    },

    "colors": {
      "patterns": [
        {
          "name": "constant.other.color.cscd",
          "match": "#[0-9A-F]{0,8}"
        }
      ]
    },

    "uids": {
      "patterns": [
        {
          "name": "constant.other.uid.cscd",
          "match": "%[0-9a-fA-F-]*"
        }
      ]
    },

    "timestamps": {
      "patterns": [
        {
          "name": "constant.other.timestamp.cscd",
          "begin": "@",
          "end": "@"
        }
      ]
    },

    "durations": {
      "patterns": [
        {
          "name": "constant.other.duration.cscd",
          "match": "-?\\d*d?\\d*h?\\d*m?\\d*(\\.\\d+)?s?"
        }
      ]
    },

    "bytes": {
      "patterns": [
        {
          "name": "constant.other.bytes.cscd",
          "match": "![A-Za-z0-9+/=]*"
        }
      ]
    },

    "references": {
      "patterns": [
        {
          "name": "variable.other.reference.cscd",
          "begin": "&",
          "end": "&"
        }
      ]
    },

    "symbols": {
      "patterns": [
        {
          "name": "entity.name.symbol.delimited.cscd",
          "begin": "\\*",
          "end": "\\*"
        },
        {
          "name": "entity.name.symbol.bare.cscd",
          "match": "\\b[A-Za-z_][A-Za-z0-9_]*\\b"
        }
      ]
    }
  }
}